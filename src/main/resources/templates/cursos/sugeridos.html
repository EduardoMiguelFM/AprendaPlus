<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  th:replace="~{fragments/layout :: layout(~{::conteudo}, 'Cursos Sugeridos - Aprenda+')}"
>
  <body>
    <div th:fragment="conteudo">
      <!-- Hero com IA -->
      <div class="dashboard-hero card mb-4">
        <div class="card-body p-4">
          <div class="row g-4 align-items-center">
            <div class="col-lg-8">
              <div class="badge-level mb-3">
                <i class="fas fa-sparkles"></i> Recomendado especialmente para
                vocÃª
              </div>
              <h1 class="fw-bold mb-2 text-white">
                <span th:text="${usuarioNome}">Aluno</span>, estes cursos
                combinam com seu perfil!
              </h1>
              <p class="mb-3 text-white">
                Nossa IA analisou suas Ã¡reas favoritas e reuniu sugestÃµes
                rÃ¡pidas para vocÃª retomar os estudos agora.
              </p>
              <div class="bg-white bg-opacity-20 rounded-4 p-3 hero-info-box">
                <p
                  class="mb-0"
                  th:text="${mensagemIA != null ? mensagemIA : 'Atualize suas preferÃªncias para receber recomendaÃ§Ãµes detalhadas.'}"
                >
                  Mensagem IA
                </p>
              </div>
            </div>
            <div class="col-lg-4 text-center">
              <div class="ia-chat-card">
                <div class="card-body text-start">
                  <h4 class="text-white mb-2">Dica rÃ¡pida</h4>
                  <p class="text-white-50 small mb-3">
                    Use o botÃ£o abaixo para ajustar suas Ã¡reas e desbloquear
                    sugestÃµes ainda mais precisas.
                  </p>
                  <a href="/perfil" class="btn btn-warning w-100 text-dark">
                    <i class="fas fa-sliders-h"></i> Ajustar preferÃªncias
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="surface-section">
        <div class="row g-4">
          <div class="col-md-4" th:each="curso : ${cursos}">
            <div class="card h-100 shadow-sm border-0">
              <div class="card-body d-flex flex-column">
                <div
                  class="d-flex justify-content-between align-items-center mb-2"
                >
                  <span class="fs-3" th:text="${curso.icone}">ğŸ“š</span>
                  <span
                    class="badge bg-primary bg-opacity-10 text-primary"
                    th:text="${curso.area}"
                    >Ãrea</span
                  >
                </div>
                <h5 class="fw-bold" th:text="${curso.titulo}">TÃ­tulo</h5>
                <p
                  class="text-muted small flex-grow-1"
                  th:text="${#strings.abbreviate(curso.descricao, 140)}"
                >
                  DescriÃ§Ã£o
                </p>
                <div
                  class="mt-3 d-flex justify-content-between align-items-center"
                >
                  <span
                    class="badge bg-dark text-white"
                    th:text="${curso.nivel}"
                    >NÃ­vel</span
                  >
                  <a
                    th:href="@{/cursos/{id}(id=${curso.id})}"
                    class="btn btn-sm btn-primary"
                  >
                    Ver detalhes
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div
            th:if="${cursos == null or #lists.isEmpty(cursos)}"
            class="col-12"
          >
            <div class="alert alert-info">
              Ainda nÃ£o temos cursos sugeridos. Complete seu onboarding e
              selecione Ã¡reas de interesse para receber recomendaÃ§Ãµes
              personalizadas.
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
